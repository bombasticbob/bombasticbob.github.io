<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>X11workbench Toolkit: _WBGC_ Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">X11workbench Toolkit
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('struct__WBGC__.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">_WBGC_ Struct Reference<div class="ingroups"><a class="el" href="group__core.html">Core API</a> &raquo; <a class="el" href="group__core__struct.html">'Core' Structures</a> &raquo; <a class="el" href="group__core__struct__struct.html">structures</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>internal wrapper struct for GC with local cache  
 <a href="struct__WBGC__.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="window__helper_8h_source.html">window_helper.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a854f9eb314f72feecf68ba03c6f0e5d5"><td class="memItemLeft" align="right" valign="top"><a id="a854f9eb314f72feecf68ba03c6f0e5d5"></a>
Display *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__WBGC__.html#a854f9eb314f72feecf68ba03c6f0e5d5">display</a></td></tr>
<tr class="memdesc:a854f9eb314f72feecf68ba03c6f0e5d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">the Display associated with the WBGC (NULL implies 'Default Display') <br /></td></tr>
<tr class="separator:a854f9eb314f72feecf68ba03c6f0e5d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad123a4d929ca5025c620d2950cd1f1c"><td class="memItemLeft" align="right" valign="top"><a id="aad123a4d929ca5025c620d2950cd1f1c"></a>
Drawable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__WBGC__.html#aad123a4d929ca5025c620d2950cd1f1c">dw</a></td></tr>
<tr class="memdesc:aad123a4d929ca5025c620d2950cd1f1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">the Drawable for which this WBGC was created (None implies default Window) <br /></td></tr>
<tr class="separator:aad123a4d929ca5025c620d2950cd1f1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5da9d24666f1955a9b5ce3d2583b823a"><td class="memItemLeft" align="right" valign="top"><a id="a5da9d24666f1955a9b5ce3d2583b823a"></a>
GC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__WBGC__.html#a5da9d24666f1955a9b5ce3d2583b823a">gc</a></td></tr>
<tr class="memdesc:a5da9d24666f1955a9b5ce3d2583b823a"><td class="mdescLeft">&#160;</td><td class="mdescRight">the associated 'GC' <br /></td></tr>
<tr class="separator:a5da9d24666f1955a9b5ce3d2583b823a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda8e831bc3705f6cc486c63014acf86"><td class="memItemLeft" align="right" valign="top"><a id="adda8e831bc3705f6cc486c63014acf86"></a>
XGCValues&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__WBGC__.html#adda8e831bc3705f6cc486c63014acf86">values</a></td></tr>
<tr class="memdesc:adda8e831bc3705f6cc486c63014acf86"><td class="mdescLeft">&#160;</td><td class="mdescRight">cached XGCValues for the GC <br /></td></tr>
<tr class="separator:adda8e831bc3705f6cc486c63014acf86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a334bda24a68a43c9aba14ea95befa669"><td class="memItemLeft" align="right" valign="top"><a id="a334bda24a68a43c9aba14ea95befa669"></a>
<a class="el" href="group__font__struct.html#ga7515205c18796647b17e6838ace63582">WB_FONT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__WBGC__.html#a334bda24a68a43c9aba14ea95befa669">pFont</a></td></tr>
<tr class="memdesc:a334bda24a68a43c9aba14ea95befa669"><td class="mdescLeft">&#160;</td><td class="mdescRight">cached default font <br /></td></tr>
<tr class="separator:a334bda24a68a43c9aba14ea95befa669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f63d48705c5780cf2cf5e1170c036dc"><td class="memItemLeft" align="right" valign="top"><a id="a2f63d48705c5780cf2cf5e1170c036dc"></a>
Region&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__WBGC__.html#a2f63d48705c5780cf2cf5e1170c036dc">clip_rgn</a></td></tr>
<tr class="memdesc:a2f63d48705c5780cf2cf5e1170c036dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">clipping region (or None to use clip_image) - owned by the object <br /></td></tr>
<tr class="separator:a2f63d48705c5780cf2cf5e1170c036dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a097e2f4ac52b5b082217c7dcda79d46d"><td class="memItemLeft" align="right" valign="top"><a id="a097e2f4ac52b5b082217c7dcda79d46d"></a>
XImage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__WBGC__.html#a097e2f4ac52b5b082217c7dcda79d46d">clip_image</a></td></tr>
<tr class="memdesc:a097e2f4ac52b5b082217c7dcda79d46d"><td class="mdescLeft">&#160;</td><td class="mdescRight">cached XImage for the GC, for 'clip mask' <br /></td></tr>
<tr class="separator:a097e2f4ac52b5b082217c7dcda79d46d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55e18cae4f73d5e10482e0a192bce898"><td class="memItemLeft" align="right" valign="top"><a id="a55e18cae4f73d5e10482e0a192bce898"></a>
XImage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__WBGC__.html#a55e18cae4f73d5e10482e0a192bce898">tile_image</a></td></tr>
<tr class="memdesc:a55e18cae4f73d5e10482e0a192bce898"><td class="mdescLeft">&#160;</td><td class="mdescRight">cached XImage for the GC, for 'tile' <br /></td></tr>
<tr class="separator:a55e18cae4f73d5e10482e0a192bce898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaf5623f71b33b936a6928356fe0562e"><td class="memItemLeft" align="right" valign="top"><a id="acaf5623f71b33b936a6928356fe0562e"></a>
XImage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__WBGC__.html#acaf5623f71b33b936a6928356fe0562e">stip_image</a></td></tr>
<tr class="memdesc:acaf5623f71b33b936a6928356fe0562e"><td class="mdescLeft">&#160;</td><td class="mdescRight">cached XImage for the GC, for 'stipple' <br /></td></tr>
<tr class="separator:acaf5623f71b33b936a6928356fe0562e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>internal wrapper struct for GC with local cache </p>
<p>The WBGC structure has been defined for a couple of reasons: First, it is a similar concept to using 'HDC' in Win32, so it can help to translate all of the GC-related operations in a 1:1 manner for Win32; Second, it enables the toolkit to cache locally EVERYTHING that might enhance performance for X11 implmentations. Win-Win.</p>
<p>The biggest single performance problem in X11 exists when you want to use a remote client and also want to enhance operations beyond the simple features that are natively supported by an X server, things like anti-aliasing and transparency [for example]. In order to simplify implementing these things in a way that does NOT impact performance is to cache everything locally that might otherwise result in an RPC-like call into the X Server. The single slowest operation in this case is obtaining an XImage from a Pixmap or Window, and so this is specifically cached in the toolkit. Additionally, functions that can perform operations on these resources locally (rather than remotely) can then leverage the cached information, often giving you a significant performance boost.</p>
<p>The only down side is the additional housekeeping needed to track all of this.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__WBGC__.html">_WBGC_</a></div><div class="line">{</div><div class="line">  Display *<a class="code" href="struct__WBGC__.html#a854f9eb314f72feecf68ba03c6f0e5d5">display</a>;   <span class="comment">// the Display associated with the WBGC (NULL implies &#39;Default Display&#39;)</span></div><div class="line">  Drawable <a class="code" href="struct__WBGC__.html#aad123a4d929ca5025c620d2950cd1f1c">dw</a>;        <span class="comment">// the Drawable for which this WBGC was created (None implies default Window)</span></div><div class="line">  GC <a class="code" href="struct__WBGC__.html#a5da9d24666f1955a9b5ce3d2583b823a">gc</a>;              <span class="comment">// the associated &#39;GC&#39;</span></div><div class="line">  XGCValues <a class="code" href="struct__WBGC__.html#adda8e831bc3705f6cc486c63014acf86">values</a>;   <span class="comment">// cached XGCValues for the GC</span></div><div class="line">  <a class="code" href="structWBFont.html">WB_FONT</a> <a class="code" href="struct__WBGC__.html#a334bda24a68a43c9aba14ea95befa669">pFont</a>;      <span class="comment">// cached default font</span></div><div class="line">  Region <a class="code" href="struct__WBGC__.html#a2f63d48705c5780cf2cf5e1170c036dc">clip_rgn</a>;    <span class="comment">// clipping region (or None to use clip_image)</span></div><div class="line">  XImage *<a class="code" href="struct__WBGC__.html#a097e2f4ac52b5b082217c7dcda79d46d">clip_image</a>; <span class="comment">// cached XImage for the GC, for &#39;clip mask&#39;</span></div><div class="line">  XImage *<a class="code" href="struct__WBGC__.html#a55e18cae4f73d5e10482e0a192bce898">tile_image</a>; <span class="comment">// cached XImage for the GC, for &#39;tile&#39;</span></div><div class="line">  XImage *<a class="code" href="struct__WBGC__.html#acaf5623f71b33b936a6928356fe0562e">stip_image</a>; <span class="comment">// cached XImage for the GC, for &#39;stipple&#39;</span></div><div class="line">} * <a class="code" href="group__core__struct.html#ga74173c00060b57fc3bf11c52460bf92e">WBGC</a>;</div></div><!-- fragment --><p>It is generally safe to query the 'values' member in order to get cached information about the WBGC. You should not change them, however.</p>
<p>The XOrg documentation defines the XGCValues structure as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line">       <span class="keywordtype">int</span> <span class="keyword">function</span>;               <span class="comment">// logical operation</span></div><div class="line">       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> plane_mask;   <span class="comment">// plane mask</span></div><div class="line">       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> foreground;   <span class="comment">// foreground pixel</span></div><div class="line">       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> background;   <span class="comment">// background pixel</span></div><div class="line">       <span class="keywordtype">int</span> line_width;             <span class="comment">// line width (in pixels)</span></div><div class="line">       <span class="keywordtype">int</span> line_style;             <span class="comment">// LineSolid, LineOnOffDash, LineDoubleDash</span></div><div class="line">       <span class="keywordtype">int</span> cap_style;              <span class="comment">// CapNotLast, CapButt, CapRound, CapProjecting</span></div><div class="line">       <span class="keywordtype">int</span> join_style;             <span class="comment">// JoinMiter, JoinRound, JoinBevel</span></div><div class="line">       <span class="keywordtype">int</span> fill_style;             <span class="comment">// FillSolid, FillTiled, FillStippled FillOpaqueStippled</span></div><div class="line">       <span class="keywordtype">int</span> fill_rule;              <span class="comment">// EvenOddRule, WindingRule</span></div><div class="line">       <span class="keywordtype">int</span> arc_mode;               <span class="comment">// ArcChord, ArcPieSlice</span></div><div class="line">       Pixmap tile;                <span class="comment">// tile pixmap for tiling operations</span></div><div class="line">       Pixmap stipple;             <span class="comment">// stipple 1 plane pixmap for stippling</span></div><div class="line">       <span class="keywordtype">int</span> ts_x_origin;            <span class="comment">// offset for tile or stipple operations</span></div><div class="line">       <span class="keywordtype">int</span> ts_y_origin;</div><div class="line">       Font font;                  <span class="comment">// default text font for text operations</span></div><div class="line">       <span class="keywordtype">int</span> subwindow_mode;         <span class="comment">// ClipByChildren, IncludeInferiors</span></div><div class="line">       Bool graphics_exposures;    <span class="comment">// boolean, should exposures be generated</span></div><div class="line">       <span class="keywordtype">int</span> clip_x_origin;          <span class="comment">// origin for clipping</span></div><div class="line">       <span class="keywordtype">int</span> clip_y_origin;</div><div class="line">       Pixmap clip_mask;           <span class="comment">// bitmap clipping; other calls for rects</span></div><div class="line">       <span class="keywordtype">int</span> dash_offset;            <span class="comment">// patterned/dashed line information</span></div><div class="line">       <span class="keywordtype">char</span> dashes;</div><div class="line">} XGCValues;</div></div><!-- fragment --><p>Additional information regarding the drawing of lines</p>
<p>The XOrg 'manual page' documentation for XGCValues also includes the following information (slightly edited):</p>
<div class="fragment"><div class="line">The line-width is measured in pixels and either can be greater than or</div><div class="line">equal to one (wide line) or can be the special value zero (thin line).</div><div class="line"></div><div class="line">Wide lines are drawn centered on the path described by the graphics</div><div class="line">request.  Unless otherwise specified by the join-style or cap-style,</div><div class="line">the bounding box of a wide line with endpoints [x1, y1], [x2, y2] and</div><div class="line">width w is a rectangle with vertices at the following real coordinates:</div><div class="line"></div><div class="line">[x1-(w*sn/2), y1+(w*cs/2)], [x1+(w*sn/2), y1-(w*cs/2)],</div><div class="line">[x2-(w*sn/2), y2+(w*cs/2)], [x2+(w*sn/2), y2-(w*cs/2)]</div><div class="line"></div><div class="line">Here sn is the sine of the angle of the line, and cs is the cosine of</div><div class="line">the angle of the line.  A pixel is part of the line and so is drawn <span class="keywordflow">if</span></div><div class="line">the center of the pixel is fully inside the bounding box (which is</div><div class="line">viewed as having infinitely thin edges).  If the center of the pixel is</div><div class="line">exactly on the bounding box, it is part of the line <span class="keywordflow">if</span> and only <span class="keywordflow">if</span> the</div><div class="line">interior is immediately to its right (x increasing direction).  Pixels</div><div class="line">with centers on a horizontal edge are a special <span class="keywordflow">case</span> and are part of</div><div class="line">the line <span class="keywordflow">if</span> and only <span class="keywordflow">if</span> the interior or the boundary is immediately</div><div class="line">below (y increasing direction) and the interior or the boundary is</div><div class="line">immediately to the right (x increasing direction).</div><div class="line"></div><div class="line">Thin lines (zero line-width) are one-pixel-wide lines drawn <span class="keyword">using</span> an</div><div class="line">unspecified, device-dependent algorithm.  There are only two con-</div><div class="line">straints on <span class="keyword">this</span> algorithm.</div><div class="line"></div><div class="line">1.   If a line is drawn unclipped from [x1,y1] to [x2,y2] and <span class="keywordflow">if</span></div><div class="line">    another line is drawn unclipped from [x1+dx,y1+dy] to</div><div class="line">    [x2+dx,y2+dy], a point [x,y] is touched by drawing the first line</div><div class="line">    <span class="keywordflow">if</span> and only <span class="keywordflow">if</span> the point [x+dx,y+dy] is touched by drawing the</div><div class="line">    second line.</div><div class="line"></div><div class="line">2.   The effective <span class="keyword">set</span> of points comprising a line cannot be affected</div><div class="line">    by clipping.  That is, a point is touched in a clipped line <span class="keywordflow">if</span> and</div><div class="line">    only <span class="keywordflow">if</span> the point lies inside the clipping region and the point</div><div class="line">    would be touched by the line when drawn unclipped.</div><div class="line"></div><div class="line">A wide line drawn from [x1,y1] to [x2,y2] always draws the same pixels</div><div class="line">as a wide line drawn from [x2,y2] to [x1,y1], not counting cap-style</div><div class="line">and join-style.  It is recommended that <span class="keyword">this</span> <span class="keyword">property</span> be <span class="keyword">true</span> <span class="keywordflow">for</span> thin</div><div class="line">lines, but <span class="keyword">this</span> is not required.  A line-width of zero may differ from</div><div class="line">a line-width of one in which pixels are drawn.  This permits the use of</div><div class="line">line drawing hardware from many manufacturers, which may run many times</div><div class="line">faster than the more precisely specified wide lines.</div><div class="line"></div><div class="line">In general, drawing a thin line will be faster than drawing a wide line</div><div class="line">of width one.  However, because of their different drawing algorithms,</div><div class="line">thin lines may not mix well aesthetically with wide lines.  If it is</div><div class="line">desirable to obtain precise and uniform results across all displays, a</div><div class="line">client should always use a line-width of one rather than a line-width</div><div class="line">of zero.</div></div><!-- fragment --><p>To be fair, the use of a line width of zero in the X11Workbench Toolkit is NOT recommended. The XImage code will assume zero implies width=1.</p>
<p>Also, an algorithm that allows the 'touching' of the same point many times is not impractical with an XImage; that is, the amount of code needed to check if a point were touched or will be touched is more computationally expensive than 'just touching it anyway'. As such, the XImage code may 'touch' a point multiple times, depending. For video hardware, especially accelerated video hardware, this could be a performance hit. But when using an XImage as a backing store for the window contents, it makes more sense to simply draw it anyway.</p>
<p>Additional information can be found in the aforementioned manual page. </p>

<p class="definition">Definition at line <a class="el" href="window__helper_8h_source.html#l00363">363</a> of file <a class="el" href="window__helper_8h_source.html">window_helper.h</a>.</p>
</div><hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="window__helper_8h_source.html">window_helper.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="struct__WBGC__.html">_WBGC_</a></li>
    <li class="footer">Generated on Sun Jun 16 2019 23:38:55 for X11workbench Toolkit by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>

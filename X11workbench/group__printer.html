<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>X11 Work Bench Toolkit: Printer utility functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">X11 Work Bench Toolkit
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__printer.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Printer utility functions</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga737f9fed2f56848dc08d1cb608b49687"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__printer.html#ga737f9fed2f56848dc08d1cb608b49687">WBPrintPostScriptFile</a> (const char *szPrinterName, const char *szFileName)</td></tr>
<tr class="memdesc:ga737f9fed2f56848dc08d1cb608b49687"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send postscript file to a printer (using lpr-cups or lpr on POSIX systems)  <a href="#ga737f9fed2f56848dc08d1cb608b49687">More...</a><br/></td></tr>
<tr class="separator:ga737f9fed2f56848dc08d1cb608b49687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacbe84588820dd08c5b1f1c3cc1a2e568"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__printer.html#gacbe84588820dd08c5b1f1c3cc1a2e568">WBGetPrinterList</a> (void)</td></tr>
<tr class="memdesc:gacbe84588820dd08c5b1f1c3cc1a2e568"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of printer names.  <a href="#gacbe84588820dd08c5b1f1c3cc1a2e568">More...</a><br/></td></tr>
<tr class="separator:gacbe84588820dd08c5b1f1c3cc1a2e568"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Utility functions for sending prepared output to a printer, querying printer capabilities, and listing available printers. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gacbe84588820dd08c5b1f1c3cc1a2e568"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* WBGetPrinterList </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a list of printer names. </p>
<dl class="section return"><dt>Returns</dt><dd>a 'malloc'd pointer to a list of zero-byte terminated strings containing the printer names, ending with 2 zero-bytes</dd></dl>
<p>Use this function to get a list of printer names that can be used with <a class="el" href="group__printer.html#ga737f9fed2f56848dc08d1cb608b49687" title="Send postscript file to a printer (using lpr-cups or lpr on POSIX systems)">WBPrintPostScriptFile()</a>. On POSIX systems, it will be information from '/usr/local/etc/printcap' or '/etc/printcap'. When CUPS is installed, the '/usr/local/etc/printcap' or '/etc/printcap' file is maintained by CUPS. On non-POSIX systems, this function generates a system-dependent list of printers, which might consist of port names, or actual printer names, or a combination thereof.<br/>
 NOTE: for IPP see RFC2911 section 4.4 and other related RFCs to request printer info. 'ipptest' may help resolve how to make these things work.<br/>
 NOTE 2: for CUPS, use 'lpstat -s' and filter the output to get the printer names. URL should be <a href="http://localhost:631/printers/printername">http://localhost:631/printers/printername</a><br/>
 NOTE 3: fallback to /etc/printcap /usr/local/etc/printcap and other sources</p>
<p>Header File: <a class="el" href="platform__helper_8h.html" title="Definition file for platform-specific utility functions.">platform_helper.h</a> </p>

<p>Definition at line <a class="el" href="platform__helper_8c_source.html#l02703">2703</a> of file <a class="el" href="platform__helper_8c_source.html">platform_helper.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga737f9fed2f56848dc08d1cb608b49687"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WBPrintPostScriptFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szPrinterName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szFileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send postscript file to a printer (using lpr-cups or lpr on POSIX systems) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">szPrinterName</td><td>the unique (system) name of the printer </td></tr>
    <tr><td class="paramname">szFileName</td><td>the name of the file containing the postscript data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, non-zero on error.</dd></dl>
<p>Use this function to send pre-prepared postscript data to a printer. On POSIX systems, it invokes 'lpr-cups' or 'lpr'. On non-POSIX systems, its operation is system-dependent. The version of 'lpr' that is run will be the CUPS version, whenever it is installed. On some systems this may require installing the 'bsd' compatible CUPS utilities<br/>
 NOTE: This function may need to translate the postscript data into the raw printer format on non-POSIX systems, as needed. The 'ghostscript' package can do this, if present. Other options may be added as required. Entries in the 'printcap' file can configure the ghostscript filter for raster printers.<br/>
 NOTE 2: some Linux packages require installing the cups version of lpr separately and possibly EXCLUSIVELY from the system version, example debian 'cups-bsd' vs 'lpr'.<br/>
 NOTE 3: newer Linux versions don't support printcap mods based on CUPS. Using the IPP protocol to discover printers is probably a better idea.<br/>
 NOTE 4: may need to dynamically link to CUPS libraries, as needed, or invoke ghostscript and/or lpd directly. Additional support for PDF, etc. may be in order.<br/>
 NOTE 5: 'ipptool' may be the best CUPS method of sending files to a printer<br/>
 example: ipptool -4 -t <a href="http://localhost:631/printers/printername">http://localhost:631/printers/printername</a> get-printer-attributes.test</p>
<p>Header File: <a class="el" href="platform__helper_8h.html" title="Definition file for platform-specific utility functions.">platform_helper.h</a> </p>

<p>Definition at line <a class="el" href="platform__helper_8c_source.html#l02690">2690</a> of file <a class="el" href="platform__helper_8c_source.html">platform_helper.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Jun 4 2016 19:19:53 for X11 Work Bench Toolkit by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>

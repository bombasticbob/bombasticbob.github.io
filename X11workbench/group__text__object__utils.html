<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>X11workbench Toolkit: Text Object utility functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">X11workbench Toolkit
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__text__object__utils.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Text Object utility functions<div class="ingroups"><a class="el" href="group__text__object.html">Text Editing Utilities and Objects</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Utility functions for managing Text Objects.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7c20ed24f57275db985803f47263a694"><td class="memItemLeft" align="right" valign="top">static __inline__ const <a class="el" href="group__text__object__structures.html#ga47fb27d1f2a968b64a65476649b52f36">TEXT_OBJECT_VTABLE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text__object__utils.html#ga7c20ed24f57275db985803f47263a694">WBGetDefaultTextObjectVTable</a> (void)</td></tr>
<tr class="memdesc:ga7c20ed24f57275db985803f47263a694"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the default vtable for a TEXT_OBJECT structure  <a href="#ga7c20ed24f57275db985803f47263a694">More...</a><br /></td></tr>
<tr class="separator:ga7c20ed24f57275db985803f47263a694"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5a5a199098d57dc59f58090ae22af47"><td class="memItemLeft" align="right" valign="top">static __inline__ int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text__object__utils.html#gab5a5a199098d57dc59f58090ae22af47">WBIsValidTextObject</a> (const <a class="el" href="group__text__object__structures.html#ga7953714ac52297d4eab55b7ea5f3dc7d">TEXT_OBJECT</a> *pObj)</td></tr>
<tr class="memdesc:gab5a5a199098d57dc59f58090ae22af47"><td class="mdescLeft">&#160;</td><td class="mdescRight">'TEXT_OBJECT' validator  <a href="#gab5a5a199098d57dc59f58090ae22af47">More...</a><br /></td></tr>
<tr class="separator:gab5a5a199098d57dc59f58090ae22af47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga288a073741ae3c2486370b7130e8dd73"><td class="memItemLeft" align="right" valign="top">static __inline__ void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text__object__utils.html#ga288a073741ae3c2486370b7130e8dd73">WBInitializeInPlaceTextObject</a> (<a class="el" href="group__text__object__structures.html#ga7953714ac52297d4eab55b7ea5f3dc7d">TEXT_OBJECT</a> *pTextObject, Window wIDOwner)</td></tr>
<tr class="memdesc:ga288a073741ae3c2486370b7130e8dd73"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialize an 'in-place' TEXT_OBJECT structure  <a href="#ga288a073741ae3c2486370b7130e8dd73">More...</a><br /></td></tr>
<tr class="separator:ga288a073741ae3c2486370b7130e8dd73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabd728e00e574c713e0897d98f3cbf5f4"><td class="memItemLeft" align="right" valign="top">static __inline__ void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text__object__utils.html#gabd728e00e574c713e0897d98f3cbf5f4">WBDestroyInPlaceTextObject</a> (<a class="el" href="group__text__object__structures.html#ga7953714ac52297d4eab55b7ea5f3dc7d">TEXT_OBJECT</a> *pTextObject)</td></tr>
<tr class="memdesc:gabd728e00e574c713e0897d98f3cbf5f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a previously initialized 'in-place' TEXT_OBJECT structure.  <a href="#gabd728e00e574c713e0897d98f3cbf5f4">More...</a><br /></td></tr>
<tr class="separator:gabd728e00e574c713e0897d98f3cbf5f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3161994482cbb54c3a35e1c9330c7d1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__text__object__structures.html#ga5833900dbf06c8ec0f32459f8d151df6">TEXT_BUFFER</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text__object__utils.html#ga3161994482cbb54c3a35e1c9330c7d1f">WBAllocTextBuffer</a> (const char *pBuf, unsigned int cbBufSize)</td></tr>
<tr class="memdesc:ga3161994482cbb54c3a35e1c9330c7d1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic constructor for a TEXT_BUFFER using defaults.  <a href="#ga3161994482cbb54c3a35e1c9330c7d1f">More...</a><br /></td></tr>
<tr class="separator:ga3161994482cbb54c3a35e1c9330c7d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4625b33f8ab15d8646546257af958d45"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text__object__utils.html#ga4625b33f8ab15d8646546257af958d45">WBCheckReAllocTextBuffer</a> (<a class="el" href="group__text__object__structures.html#ga5833900dbf06c8ec0f32459f8d151df6">TEXT_BUFFER</a> **ppBuf, int nLinesToAdd)</td></tr>
<tr class="memdesc:ga4625b33f8ab15d8646546257af958d45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-allocator for TEXT_BUFFER object.  <a href="#ga4625b33f8ab15d8646546257af958d45">More...</a><br /></td></tr>
<tr class="separator:ga4625b33f8ab15d8646546257af958d45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa875345ecadd735f983b8a37ba7ce11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text__object__utils.html#gaaa875345ecadd735f983b8a37ba7ce11">WBFreeTextBuffer</a> (<a class="el" href="group__text__object__structures.html#ga5833900dbf06c8ec0f32459f8d151df6">TEXT_BUFFER</a> *pBuf)</td></tr>
<tr class="memdesc:gaaa875345ecadd735f983b8a37ba7ce11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-allocator for TEXT_BUFFER object, returns ZERO on success. Pointer may be modified (or not).  <a href="#gaaa875345ecadd735f983b8a37ba7ce11">More...</a><br /></td></tr>
<tr class="separator:gaaa875345ecadd735f983b8a37ba7ce11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga926da753b33c387fb009a970a6e97caf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text__object__utils.html#ga926da753b33c387fb009a970a6e97caf">WBTextBufferLineLength</a> (<a class="el" href="group__text__object__structures.html#ga5833900dbf06c8ec0f32459f8d151df6">TEXT_BUFFER</a> *pBuf, unsigned long nLine)</td></tr>
<tr class="memdesc:ga926da753b33c387fb009a970a6e97caf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Text buffer 'cached information' query function indicating a line's cached length.  <a href="#ga926da753b33c387fb009a970a6e97caf">More...</a><br /></td></tr>
<tr class="separator:ga926da753b33c387fb009a970a6e97caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21cd50513992d6b1687006d260f69f42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text__object__utils.html#ga21cd50513992d6b1687006d260f69f42">WBTextBufferLineChange</a> (<a class="el" href="group__text__object__structures.html#ga5833900dbf06c8ec0f32459f8d151df6">TEXT_BUFFER</a> *pBuf, unsigned long nLine, int nNewLen)</td></tr>
<tr class="memdesc:ga21cd50513992d6b1687006d260f69f42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Text buffer 'cached information' update function indicating a change to a line's length.  <a href="#ga21cd50513992d6b1687006d260f69f42">More...</a><br /></td></tr>
<tr class="separator:ga21cd50513992d6b1687006d260f69f42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad4092bcfdf3f63f4f223c5089bcdd5bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text__object__utils.html#gad4092bcfdf3f63f4f223c5089bcdd5bf">WBTextBufferRefreshCache</a> (<a class="el" href="group__text__object__structures.html#ga5833900dbf06c8ec0f32459f8d151df6">TEXT_BUFFER</a> *pBuf)</td></tr>
<tr class="memdesc:gad4092bcfdf3f63f4f223c5089bcdd5bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Text buffer 'cached information' refresh function.  <a href="#gad4092bcfdf3f63f4f223c5089bcdd5bf">More...</a><br /></td></tr>
<tr class="separator:gad4092bcfdf3f63f4f223c5089bcdd5bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13ddd8c043e9ea838b70fbe74b190c92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text__object__utils.html#ga13ddd8c043e9ea838b70fbe74b190c92">WBTextObjectSetColorContextCallback</a> (<a class="el" href="group__text__object__structures.html#ga7953714ac52297d4eab55b7ea5f3dc7d">TEXT_OBJECT</a> *pThis, unsigned long(*callback)(<a class="el" href="group__text__object__structures.html#ga7953714ac52297d4eab55b7ea5f3dc7d">TEXT_OBJECT</a> *pThis, int nRow, int nCol), void *pColorContextPointer)</td></tr>
<tr class="memdesc:ga13ddd8c043e9ea838b70fbe74b190c92"><td class="mdescLeft">&#160;</td><td class="mdescRight">assign callback function for 'color context' for a given character  <a href="#ga13ddd8c043e9ea838b70fbe74b190c92">More...</a><br /></td></tr>
<tr class="separator:ga13ddd8c043e9ea838b70fbe74b190c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb89e8eacd7f963104ed12b034482e7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__text__object__structures.html#ga7953714ac52297d4eab55b7ea5f3dc7d">TEXT_OBJECT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text__object__utils.html#gafb89e8eacd7f963104ed12b034482e7c">WBTextObjectConstructor</a> (unsigned long cbStructSize, const char *szText, unsigned long cbLen, Window wIDOwner)</td></tr>
<tr class="memdesc:gafb89e8eacd7f963104ed12b034482e7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic constructor for a TEXT_OBJECT using defaults.  <a href="#gafb89e8eacd7f963104ed12b034482e7c">More...</a><br /></td></tr>
<tr class="separator:gafb89e8eacd7f963104ed12b034482e7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc9102b78fe0ca6ba8b11c6e969bbf29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text__object__utils.html#gacc9102b78fe0ca6ba8b11c6e969bbf29">WBTextObjectDestructor</a> (<a class="el" href="group__text__object__structures.html#ga7953714ac52297d4eab55b7ea5f3dc7d">TEXT_OBJECT</a> *pObj)</td></tr>
<tr class="memdesc:gacc9102b78fe0ca6ba8b11c6e969bbf29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic detructor for a TEXT_OBJECT.  <a href="#gacc9102b78fe0ca6ba8b11c6e969bbf29">More...</a><br /></td></tr>
<tr class="separator:gacc9102b78fe0ca6ba8b11c6e969bbf29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1f8ddf1de53987c95b923e2b7f5f2ce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text__object__utils.html#gae1f8ddf1de53987c95b923e2b7f5f2ce">WBTextObjectCalculateLineHeight</a> (int iAscent, int iDescent)</td></tr>
<tr class="memdesc:gae1f8ddf1de53987c95b923e2b7f5f2ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the correct per-line height (in pixels) for a specified font ascent and descent.  <a href="#gae1f8ddf1de53987c95b923e2b7f5f2ce">More...</a><br /></td></tr>
<tr class="separator:gae1f8ddf1de53987c95b923e2b7f5f2ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Utility functions for managing Text Objects. </p>
<p>Utility functions for managing Text Objects. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3161994482cbb54c3a35e1c9330c7d1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3161994482cbb54c3a35e1c9330c7d1f">&#9670;&nbsp;</a></span>WBAllocTextBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__text__object__structures.html#ga5833900dbf06c8ec0f32459f8d151df6">TEXT_BUFFER</a>* WBAllocTextBuffer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cbBufSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic constructor for a TEXT_BUFFER using defaults. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pBuf</td><td>Optional initializer text. Can be NULL or 'blank', which will pre-allocate space for a default number of lines </td></tr>
    <tr><td class="paramname">cbBufSize</td><td>Length of data pointed to by 'pBuf'. Zero implies zero-byte terminated string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A 'WBAlloc'd pointer to a TEXT_BUFFER object. Use 'WBFreeTextBuffer' to free it safely.</dd></dl>
<p>Header File: <a class="el" href="text__object_8h.html" title="A &#39;C++&#39;-like object for managing text, can be overridden. ">text_object.h</a> </p>

<p class="definition">Definition at line <a class="el" href="text__object_8c_source.html#l00299">299</a> of file <a class="el" href="text__object_8c_source.html">text_object.c</a>.</p>

</div>
</div>
<a id="ga4625b33f8ab15d8646546257af958d45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4625b33f8ab15d8646546257af958d45">&#9670;&nbsp;</a></span>WBCheckReAllocTextBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WBCheckReAllocTextBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__text__object__structures.html#ga5833900dbf06c8ec0f32459f8d151df6">TEXT_BUFFER</a> **&#160;</td>
          <td class="paramname"><em>ppBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nLinesToAdd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Re-allocator for TEXT_BUFFER object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ppBuf</td><td>A pointer to a TEXT_BUFFER pointer that may be re-assigned (as needed). </td></tr>
    <tr><td class="paramname">nLinesToAdd</td><td>The number of additional lines that need to be added [or have space reserved for] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero value on error, or zero on success</dd></dl>
<p>Header File: <a class="el" href="text__object_8h.html" title="A &#39;C++&#39;-like object for managing text, can be overridden. ">text_object.h</a> </p>

<p class="definition">Definition at line <a class="el" href="text__object_8c_source.html#l00415">415</a> of file <a class="el" href="text__object_8c_source.html">text_object.c</a>.</p>

</div>
</div>
<a id="gabd728e00e574c713e0897d98f3cbf5f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabd728e00e574c713e0897d98f3cbf5f4">&#9670;&nbsp;</a></span>WBDestroyInPlaceTextObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __inline__ void WBDestroyInPlaceTextObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__text__object__structures.html#ga7953714ac52297d4eab55b7ea5f3dc7d">TEXT_OBJECT</a> *&#160;</td>
          <td class="paramname"><em>pTextObject</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy a previously initialized 'in-place' TEXT_OBJECT structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTextObject</td><td>A pointer to the TEXT_OBJECT structure to be initialized</td></tr>
  </table>
  </dd>
</dl>
<p>Use this function to destroy an in-place TEXT_OBJECT that is an automatic variable or a part of an array.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__text__object__utils.html#ga288a073741ae3c2486370b7130e8dd73" title="initialize an &#39;in-place&#39; TEXT_OBJECT structure ">WBInitializeInPlaceTextObject()</a></dd></dl>
<p>Header File: <a class="el" href="text__object_8h.html" title="A &#39;C++&#39;-like object for managing text, can be overridden. ">text_object.h</a> </p>

<p class="definition">Definition at line <a class="el" href="text__object_8h_source.html#l01059">1059</a> of file <a class="el" href="text__object_8h_source.html">text_object.h</a>.</p>

</div>
</div>
<a id="gaaa875345ecadd735f983b8a37ba7ce11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa875345ecadd735f983b8a37ba7ce11">&#9670;&nbsp;</a></span>WBFreeTextBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WBFreeTextBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__text__object__structures.html#ga5833900dbf06c8ec0f32459f8d151df6">TEXT_BUFFER</a> *&#160;</td>
          <td class="paramname"><em>pBuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Re-allocator for TEXT_BUFFER object, returns ZERO on success. Pointer may be modified (or not). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pBuf</td><td>A pointer to a TEXT_BUFFER that has been previously allocated. It assumes that valid 'aLines' entries contain pointers allocated via 'WBAlloc' </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>Header File: <a class="el" href="text__object_8h.html" title="A &#39;C++&#39;-like object for managing text, can be overridden. ">text_object.h</a> </p>

<p class="definition">Definition at line <a class="el" href="text__object_8c_source.html#l00450">450</a> of file <a class="el" href="text__object_8c_source.html">text_object.c</a>.</p>

</div>
</div>
<a id="ga7c20ed24f57275db985803f47263a694"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7c20ed24f57275db985803f47263a694">&#9670;&nbsp;</a></span>WBGetDefaultTextObjectVTable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __inline__ const <a class="el" href="group__text__object__structures.html#ga47fb27d1f2a968b64a65476649b52f36">TEXT_OBJECT_VTABLE</a>* WBGetDefaultTextObjectVTable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns the default vtable for a TEXT_OBJECT structure </p>
<p>Use this function to get a copy of the pointer to the default 'TEXT_OBJECT' vtable. </p>

<p class="definition">Definition at line <a class="el" href="text__object_8h_source.html#l00867">867</a> of file <a class="el" href="text__object_8h_source.html">text_object.h</a>.</p>

</div>
</div>
<a id="ga288a073741ae3c2486370b7130e8dd73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga288a073741ae3c2486370b7130e8dd73">&#9670;&nbsp;</a></span>WBInitializeInPlaceTextObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __inline__ void WBInitializeInPlaceTextObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__text__object__structures.html#ga7953714ac52297d4eab55b7ea5f3dc7d">TEXT_OBJECT</a> *&#160;</td>
          <td class="paramname"><em>pTextObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Window&#160;</td>
          <td class="paramname"><em>wIDOwner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>initialize an 'in-place' TEXT_OBJECT structure </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTextObject</td><td>A pointer to the TEXT_OBJECT structure to be initialized </td></tr>
    <tr><td class="paramname">wIDOwner</td><td>The owning window's Window ID. Can be 'None'</td></tr>
  </table>
  </dd>
</dl>
<p>Use this function to initialize a TEXT_OBJECT as an automatic variable or as part of an array.</p>
<p>Make sure you call <a class="el" href="group__text__object__utils.html#gabd728e00e574c713e0897d98f3cbf5f4" title="Destroy a previously initialized &#39;in-place&#39; TEXT_OBJECT structure. ">WBDestroyInPlaceTextObject()</a> right before de-allocating it.</p>
<p>Header File: <a class="el" href="text__object_8h.html" title="A &#39;C++&#39;-like object for managing text, can be overridden. ">text_object.h</a> </p>

<p class="definition">Definition at line <a class="el" href="text__object_8h_source.html#l01034">1034</a> of file <a class="el" href="text__object_8h_source.html">text_object.h</a>.</p>

</div>
</div>
<a id="gab5a5a199098d57dc59f58090ae22af47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5a5a199098d57dc59f58090ae22af47">&#9670;&nbsp;</a></span>WBIsValidTextObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __inline__ int WBIsValidTextObject </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__text__object__structures.html#ga7953714ac52297d4eab55b7ea5f3dc7d">TEXT_OBJECT</a> *&#160;</td>
          <td class="paramname"><em>pObj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>'TEXT_OBJECT' validator </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pObj</td><td>A const pointer to a (possible) TEXT_OBJECT structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>non-zero if the object is a valid TEXT_OBJECT, zero otherwise</dd></dl>
<p>Header File: <a class="el" href="text__object_8h.html" title="A &#39;C++&#39;-like object for managing text, can be overridden. ">text_object.h</a> </p>

<p class="definition">Definition at line <a class="el" href="text__object_8h_source.html#l01017">1017</a> of file <a class="el" href="text__object_8h_source.html">text_object.h</a>.</p>

</div>
</div>
<a id="ga21cd50513992d6b1687006d260f69f42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21cd50513992d6b1687006d260f69f42">&#9670;&nbsp;</a></span>WBTextBufferLineChange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WBTextBufferLineChange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__text__object__structures.html#ga5833900dbf06c8ec0f32459f8d151df6">TEXT_BUFFER</a> *&#160;</td>
          <td class="paramname"><em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nLine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nNewLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Text buffer 'cached information' update function indicating a change to a line's length. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pBuf</td><td>A pointer to a TEXT_BUFFER object </td></tr>
    <tr><td class="paramname">nLine</td><td>The 0-based line (row) number within the 'aLines' array </td></tr>
    <tr><td class="paramname">nNewLen</td><td>The new line length, or -1 if the line is being deleted.</td></tr>
  </table>
  </dd>
</dl>
<p>Whenever you modify the length of a line, or delete a line, you should call this function to automatically update the internally cached information specifying the maximum column number.<br />
For complex edits, use <a class="el" href="group__text__object__utils.html#gad4092bcfdf3f63f4f223c5089bcdd5bf" title="Text buffer &#39;cached information&#39; refresh function. ">WBTextBufferRefreshCache()</a>.<br />
If you join a pair of lines, call this function once for the deleted line, then again for the new (joined) line.</p>
<p>Header File: <a class="el" href="text__object_8h.html" title="A &#39;C++&#39;-like object for managing text, can be overridden. ">text_object.h</a> </p>

<p class="definition">Definition at line <a class="el" href="text__object_8c_source.html#l00495">495</a> of file <a class="el" href="text__object_8c_source.html">text_object.c</a>.</p>

</div>
</div>
<a id="ga926da753b33c387fb009a970a6e97caf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga926da753b33c387fb009a970a6e97caf">&#9670;&nbsp;</a></span>WBTextBufferLineLength()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WBTextBufferLineLength </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__text__object__structures.html#ga5833900dbf06c8ec0f32459f8d151df6">TEXT_BUFFER</a> *&#160;</td>
          <td class="paramname"><em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nLine</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Text buffer 'cached information' query function indicating a line's cached length. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pBuf</td><td>A pointer to a TEXT_BUFFER object </td></tr>
    <tr><td class="paramname">nLine</td><td>The 0-based line (row) number within the 'aLines' array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current cached length of the line.</dd></dl>
<p>This function returns the cached line length for the specified line. If you do something that might change this value, you can check first by calling this function to obtain the cached value, and then use <a class="el" href="group__text__object__utils.html#gad4092bcfdf3f63f4f223c5089bcdd5bf" title="Text buffer &#39;cached information&#39; refresh function. ">WBTextBufferRefreshCache()</a> to update it (as needed).</p>
<p>Header File: <a class="el" href="text__object_8h.html" title="A &#39;C++&#39;-like object for managing text, can be overridden. ">text_object.h</a> </p>

<p class="definition">Definition at line <a class="el" href="text__object_8c_source.html#l00473">473</a> of file <a class="el" href="text__object_8c_source.html">text_object.c</a>.</p>

</div>
</div>
<a id="gad4092bcfdf3f63f4f223c5089bcdd5bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad4092bcfdf3f63f4f223c5089bcdd5bf">&#9670;&nbsp;</a></span>WBTextBufferRefreshCache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WBTextBufferRefreshCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__text__object__structures.html#ga5833900dbf06c8ec0f32459f8d151df6">TEXT_BUFFER</a> *&#160;</td>
          <td class="paramname"><em>pBuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Text buffer 'cached information' refresh function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pBuf</td><td>A pointer to a TEXT_BUFFER object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>Call this function to completely re-evaluate the cached information regarding line lengths. In some cases this can be time-consuming, but on a modern processor it's not likely to be noticable for documents smaller than 1Mb in size.<br />
You should call this function following an 'undo' or other complex edit operation, in lieu of <a class="el" href="group__text__object__utils.html#ga21cd50513992d6b1687006d260f69f42" title="Text buffer &#39;cached information&#39; update function indicating a change to a line&#39;s length. ">WBTextBufferLineChange()</a>. Also, for single-line edits, it may be better to ALWAYS use this function.</p>
<p>Header File: <a class="el" href="text__object_8h.html" title="A &#39;C++&#39;-like object for managing text, can be overridden. ">text_object.h</a> </p>

<p class="definition">Definition at line <a class="el" href="text__object_8c_source.html#l00670">670</a> of file <a class="el" href="text__object_8c_source.html">text_object.c</a>.</p>

</div>
</div>
<a id="gae1f8ddf1de53987c95b923e2b7f5f2ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae1f8ddf1de53987c95b923e2b7f5f2ce">&#9670;&nbsp;</a></span>WBTextObjectCalculateLineHeight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WBTextObjectCalculateLineHeight </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iAscent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iDescent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the correct per-line height (in pixels) for a specified font ascent and descent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iAscent</td><td>The 'ascent' for the display font </td></tr>
    <tr><td class="paramname">iDescent</td><td>The 'descent' for the display font </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A calculated line height (in pixels) that includes the line spacing.</dd></dl>
<p>Use this function to consistently get the line height from font information. The Text Object expose handler uses this calculation exclusively. Sometimes owning objects need to know exactly how this is being calculated to properly handle scrolling, etc. and this function returns the same results that the expose handler will use to determine where to draw text in the display geometry.</p>
<p>Header File: <a class="el" href="text__object_8h.html" title="A &#39;C++&#39;-like object for managing text, can be overridden. ">text_object.h</a> </p>

<p class="definition">Definition at line <a class="el" href="text__object_8c_source.html#l00837">837</a> of file <a class="el" href="text__object_8c_source.html">text_object.c</a>.</p>

</div>
</div>
<a id="gafb89e8eacd7f963104ed12b034482e7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb89e8eacd7f963104ed12b034482e7c">&#9670;&nbsp;</a></span>WBTextObjectConstructor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__text__object__structures.html#ga7953714ac52297d4eab55b7ea5f3dc7d">TEXT_OBJECT</a>* WBTextObjectConstructor </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>cbStructSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szText</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>cbLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Window&#160;</td>
          <td class="paramname"><em>wIDOwner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic constructor for a TEXT_OBJECT using defaults. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbStructSize</td><td>The size of the 'TEXT_OBJECT' structure itself </td></tr>
    <tr><td class="paramname">szText</td><td>The text to pre-assign the object with, or NULL </td></tr>
    <tr><td class="paramname">cbLen</td><td>The length of 'szText', 0 to indicate zero-byte terminated </td></tr>
    <tr><td class="paramname">wIDOwner</td><td>The owner window in which to display the text, or 'None' </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A 'WBAlloc'd and initialized TEXT_OBJECT pointer - call WBTextObjectDestructor to destroy it</dd></dl>
<p>This is being implemented as an object, similar to a C++ class with virtual member functions, for the purpose of being able to re-assign the vtable and thereby overload its functionality.</p>
<p>Header File: <a class="el" href="text__object_8h.html" title="A &#39;C++&#39;-like object for managing text, can be overridden. ">text_object.h</a> </p>

<p class="definition">Definition at line <a class="el" href="text__object_8c_source.html#l00805">805</a> of file <a class="el" href="text__object_8c_source.html">text_object.c</a>.</p>

</div>
</div>
<a id="gacc9102b78fe0ca6ba8b11c6e969bbf29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc9102b78fe0ca6ba8b11c6e969bbf29">&#9670;&nbsp;</a></span>WBTextObjectDestructor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WBTextObjectDestructor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__text__object__structures.html#ga7953714ac52297d4eab55b7ea5f3dc7d">TEXT_OBJECT</a> *&#160;</td>
          <td class="paramname"><em>pObj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic detructor for a TEXT_OBJECT. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pObj</td><td>A pointer to the TEXT_OBJECT structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>Use this function to SAFELY destroy an object allocated using WBTextObjectConstructor</p>
<p>Header File: <a class="el" href="text__object_8h.html" title="A &#39;C++&#39;-like object for managing text, can be overridden. ">text_object.h</a> </p>

<p class="definition">Definition at line <a class="el" href="text__object_8c_source.html#l00827">827</a> of file <a class="el" href="text__object_8c_source.html">text_object.c</a>.</p>

</div>
</div>
<a id="ga13ddd8c043e9ea838b70fbe74b190c92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga13ddd8c043e9ea838b70fbe74b190c92">&#9670;&nbsp;</a></span>WBTextObjectSetColorContextCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WBTextObjectSetColorContextCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__text__object__structures.html#ga7953714ac52297d4eab55b7ea5f3dc7d">TEXT_OBJECT</a> *&#160;</td>
          <td class="paramname"><em>pThis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long(*)(<a class="el" href="group__text__object__structures.html#ga7953714ac52297d4eab55b7ea5f3dc7d">TEXT_OBJECT</a> *pThis, int nRow, int nCol)&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pColorContextPointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>assign callback function for 'color context' for a given character </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pThis</td><td>A pointer to the TEXT_OBJECT structure </td></tr>
    <tr><td class="paramname">callback</td><td>A function pointer to a 'color context' callback function (see below). This value may be NULL. </td></tr>
    <tr><td class="paramname">pColorContextPointer</td><td>A pointer to non-specific user-maintained data. Its value will be stored in pColorContext. May be NULL.</td></tr>
  </table>
  </dd>
</dl>
<p>Use '<a class="el" href="group__text__object__utils.html#ga13ddd8c043e9ea838b70fbe74b190c92" title="assign callback function for &#39;color context&#39; for a given character ">WBTextObjectSetColorContextCallback()</a>' to assign a color context callback function that returns the correct color of a character, given its row ('nRow') and column ('nCol') values, as a pixel (unsigned long) color value. The color context callback function should use the 'text object' pointer 'pThis' to perform whatever operations it needs to do in order to determine the correct color.</p>
<p>The color callback function should return the 'default' color (from the TEXT_OBJECT) when no specific color is to be assigned to a particular character. Otherwise it returns the correct 'XColor' pixel value based on the context-related color assignment.</p>
<p>The 'pColorContextPointer' value is stored directly as-is in the pColorContext member of the TEXT_OBJECT structure. It does not have to be a valid pointer (it can be a 'Window' cast to a pointer, for example). The value is simply available to the callback function whenever it is invoked, through the TEXT_OBJECT.</p>
<p>The callback function 'callback' will be invoked internally by passing a pointer to the TEXT_OBJECT as the first parameter, followed by the row and column values. The callback function must assume that a multi-byte character qualifies as a single column, and handle character spacing accordingly.</p>
<p>To notify the callback function that something has changed, it can be invoked with an 'nCol' value of -1. This should force the re-evaluation of all context colors starting with row 'nRow'. 'nRow' can also be a negative value to indicate that the entire file should be re-evaluated. Once completed, it should invalidate the window that is displaying the text, so that the correct colors will be painted. Additionally, any background thread that might be re-evaluating the context color should be re-startable (whenever the callback is re-invoked), and cause the window displaying the text object to be re-painted when complete.</p>
<p>Upon assignment, the callback will be evoked with 'nRow' and 'nCol' as -1, so that the re-evaluation will happen immediately. As such, it's usually important to assign the callback function before assigning any data.</p>
<p>See Also: <a class="el" href="group__pixmap.html#gae8f4928e2429bed23e6e1aa2d1a684a3" title="Simple RGB assignment to pixel, 0-65535 RGB. ">RGB_TO_XCOLOR()</a>, <a class="el" href="group__pixmap.html#ga8f0e531e62635c381c282b4485cfd025" title="Simple RGB assignment to pixel, 0-255 RGB. ">RGB255_TO_XCOLOR()</a>, <a class="el" href="group__pixmap.html#ga8d5263b0ba8461654d76bda4409b6634" title="Icon Registration for application &#39;large&#39; and &#39;small&#39; icons. ">PXM_RGBToPixel()</a>, <a class="el" href="group__pixmap.html#ga180e026a1a845c326f2297c5358e6fde" title="Convert the pixel menber of an XColor to RGB. ">PXM_PixelToRGB()</a> </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Jun 16 2019 23:38:54 for X11workbench Toolkit by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>

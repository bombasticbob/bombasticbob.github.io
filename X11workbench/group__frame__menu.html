<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>X11 Work Bench Toolkit: Frame Window Menu Handling</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">X11 Work Bench Toolkit
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__frame__menu.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">Frame Window Menu Handling<div class="ingroups"><a class="el" href="group__frame.html">Frame Window API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Macros and functions needed to set up a frame window's menu.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct____WB__FW__MENU__HANDLER____.html">__WB_FW_MENU_HANDLER__</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">structure for managing menu callbacks  <a href="struct____WB__FW__MENU__HANDLER____.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga8a61ebc2ef84095119158df442cfca52"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frame__menu.html#ga8a61ebc2ef84095119158df442cfca52">FW_MENU_HANDLER_BEGIN</a>(X)&#160;&#160;&#160;static const <a class="el" href="group__frame__menu.html#ga3c4f2af99262415109ef93e4e3ad009b">WBFWMenuHandler</a> X[] = {</td></tr>
<tr class="memdesc:ga8a61ebc2ef84095119158df442cfca52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this macro to begin definition of a WBFWMenuHandler array.  <a href="#ga8a61ebc2ef84095119158df442cfca52">More...</a><br/></td></tr>
<tr class="separator:ga8a61ebc2ef84095119158df442cfca52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga229372f84c3decfd19c503e93bcd0624"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frame__menu.html#ga229372f84c3decfd19c503e93bcd0624">FW_MENU_HANDLER_ENTRY</a>(X, Y, Z)&#160;&#160;&#160;{ (unsigned long)X, Y, Z },</td></tr>
<tr class="memdesc:ga229372f84c3decfd19c503e93bcd0624"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this macro to define an entry for a WBFWMenuHandler array.  <a href="#ga229372f84c3decfd19c503e93bcd0624">More...</a><br/></td></tr>
<tr class="separator:ga229372f84c3decfd19c503e93bcd0624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10289c47ba568d1a721f19b817d7a6b7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga10289c47ba568d1a721f19b817d7a6b7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frame__menu.html#ga10289c47ba568d1a721f19b817d7a6b7">FW_MENU_HANDLER_END</a>&#160;&#160;&#160;{0, 0, 0} };</td></tr>
<tr class="memdesc:ga10289c47ba568d1a721f19b817d7a6b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this macro to complete the definition of a WBFWMenuHandler array. <br/></td></tr>
<tr class="separator:ga10289c47ba568d1a721f19b817d7a6b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f3667b5a203812ffbf9dd8f8e3946fb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frame__menu.html#ga1f3667b5a203812ffbf9dd8f8e3946fb">FWGetFocusWindow</a>(pFW)&#160;&#160;&#160;<a class="el" href="group__frame__window.html#ga2932bd7fb9fbe99081b5e598e6c5317c">FWGetContainedWindowByIndex</a>(pFW, -1)</td></tr>
<tr class="memdesc:ga1f3667b5a203812ffbf9dd8f8e3946fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">A macro to aid code readability, returning the Window ID of the contained window that has the focus.  <a href="#ga1f3667b5a203812ffbf9dd8f8e3946fb">More...</a><br/></td></tr>
<tr class="separator:ga1f3667b5a203812ffbf9dd8f8e3946fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga3c4f2af99262415109ef93e4e3ad009b"><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="struct____WB__FW__MENU__HANDLER____.html">__WB_FW_MENU_HANDLER__</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frame__menu.html#ga3c4f2af99262415109ef93e4e3ad009b">WBFWMenuHandler</a></td></tr>
<tr class="memdesc:ga3c4f2af99262415109ef93e4e3ad009b"><td class="mdescLeft">&#160;</td><td class="mdescRight">structure for managing menu callbacks  <a href="#ga3c4f2af99262415109ef93e4e3ad009b">More...</a><br/></td></tr>
<tr class="separator:ga3c4f2af99262415109ef93e4e3ad009b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Macros and functions needed to set up a frame window's menu. </p>
<p>Setting up a menu event handler for a frame window using the WBFWMenuHandler structures involves the use of set of macros to create the structure, and a call to <a class="el" href="group__frame__window.html#gab506e40699d1db64bbbef36dc62e4dde">FWSetMenuHandlers()</a> to assign them to the Frame window.</p>
<p>Typical sample code follows:</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> FileExitHandler(XClientMessageEvent *);</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> FileOpenHandler(XClientMessageEvent *);</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> FileSaveHandler(XClientMessageEvent *);</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">char</span> szMyMenu[]=<span class="stringliteral">&quot;1\n&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;_File\tpopup\t2\n&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;2\n&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;_Open File\tIDM_FILE_OPEN\tOpen File\tCtrl+O\n&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;_Save File\tIDM_FILE_SAVE\tSave File\tCtrl+S\n&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;\tseparator\n&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;\tdynamic\tIDM_RECENT_FILESn&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;\tseparator\n&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;E_xit\tIDM_FILE_EXIT\tClose Application\tAlt+F4\n&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">...</div>
<div class="line"></div>
<div class="line">FW_MENU_HANDLER_BEGIN(main_menu_handler)</div>
<div class="line">  <a class="code" href="group__frame__menu.html#ga229372f84c3decfd19c503e93bcd0624" title="Use this macro to define an entry for a WBFWMenuHandler array.">FW_MENU_HANDLER_ENTRY</a>(<span class="stringliteral">&quot;IDM_FILE_EXIT&quot;</span>,FileExitHandler,NULL)</div>
<div class="line">  <a class="code" href="group__frame__menu.html#ga229372f84c3decfd19c503e93bcd0624" title="Use this macro to define an entry for a WBFWMenuHandler array.">FW_MENU_HANDLER_ENTRY</a>(&quot;IDM_FILE_OPEN&quot;,FileOpenHandler,NULL)</div>
<div class="line">  <a class="code" href="group__frame__menu.html#ga229372f84c3decfd19c503e93bcd0624" title="Use this macro to define an entry for a WBFWMenuHandler array.">FW_MENU_HANDLER_ENTRY</a>(&quot;IDM_FILE_SAVE&quot;,FileSaveHandler,NULL)</div>
<div class="line">  <a class="code" href="group__frame__menu.html#ga229372f84c3decfd19c503e93bcd0624" title="Use this macro to define an entry for a WBFWMenuHandler array.">FW_MENU_HANDLER_ENTRY</a>(&quot;IDM_RECENT_FILES&quot;,NULL,RecentFilesUIHandler)</div>
<div class="line"><a class="code" href="group__frame__menu.html#ga10289c47ba568d1a721f19b817d7a6b7" title="Use this macro to complete the definition of a WBFWMenuHandler array.">FW_MENU_HANDLER_END</a></div>
<div class="line"></div>
<div class="line">---</div>
<div class="line"></div>
<div class="line">  <span class="comment">// after creating the frame window &#39;pFrameWindow&#39; with menu &#39;szMyMenu&#39;</span></div>
<div class="line"></div>
<div class="line">  <a class="code" href="group__frame__window.html#gab506e40699d1db64bbbef36dc62e4dde" title="Function to assign the default menu handler to a frame window.">FWSetMenuHandlers</a>(pFrameWindow, main_menu_handler);</div>
</div><!-- fragment --><dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__frame__window.html">Frame Window APIs and Structures</a> </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga8a61ebc2ef84095119158df442cfca52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FW_MENU_HANDLER_BEGIN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">X</td><td>)</td>
          <td>&#160;&#160;&#160;static const <a class="el" href="group__frame__menu.html#ga3c4f2af99262415109ef93e4e3ad009b">WBFWMenuHandler</a> X[] = {</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this macro to begin definition of a WBFWMenuHandler array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">X</td><td>the name of the menu handler array variable </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="frame__window_8h_source.html#l00876">876</a> of file <a class="el" href="frame__window_8h_source.html">frame_window.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga229372f84c3decfd19c503e93bcd0624"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FW_MENU_HANDLER_ENTRY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">X, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Y, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Z&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;{ (unsigned long)X, Y, Z },</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this macro to define an entry for a WBFWMenuHandler array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">X</td><td>A menu identifier expressed as an ASCII string or ID </td></tr>
    <tr><td class="paramname">Y</td><td>A callback function pointer, or NULL - see <a class="el" href="struct____WB__FW__MENU__HANDLER____.html#ae58a4b34d068f430bd7cbbfebcf90e00" title="menu callback (gets pointer to the &#39;XClientMessageEvent&#39;).">WBFWMenuHandler::callback</a> </td></tr>
    <tr><td class="paramname">Z</td><td>A UI callback functino pointer, or NULL - see <a class="el" href="struct____WB__FW__MENU__HANDLER____.html#a48df5817752dd0acd7501acff9a229ba" title="menu &#39;UI&#39; callback to handle displaying menu states.">WBFWMenuHandler::UIcallback</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="frame__window_8h_source.html#l00885">885</a> of file <a class="el" href="frame__window_8h_source.html">frame_window.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga1f3667b5a203812ffbf9dd8f8e3946fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FWGetFocusWindow</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pFW</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__frame__window.html#ga2932bd7fb9fbe99081b5e598e6c5317c">FWGetContainedWindowByIndex</a>(pFW, -1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A macro to aid code readability, returning the Window ID of the contained window that has the focus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pFW</td><td>The WBFrameWindow structure pointer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="frame__window_8h_source.html#l00925">925</a> of file <a class="el" href="frame__window_8h_source.html">frame_window.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga3c4f2af99262415109ef93e4e3ad009b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__frame__menu.html#ga3c4f2af99262415109ef93e4e3ad009b">WBFWMenuHandler</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>structure for managing menu callbacks </p>
<p>The WBFWMenuHandler structure is designed to be initialized via macros, so that a set of callback functions can then be easily used to handle menu events. If no menu handler is present for a menu item, or if the menu UI handler is NOT NULL and returns a non-zero value, the menu item will be disabled and displayed accordingly. It will not be possible to use its hotkey nor select it. Otherwise, the menu will be displayed normally and be selectable, and its hotkey will be able to activate it.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct____WB__FW__MENU__HANDLER____.html" title="structure for managing menu callbacks ">__WB_FW_MENU_HANDLER__</a></div>
<div class="line">{</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="struct____WB__FW__MENU__HANDLER____.html#a677acb025d0e13875e3f3ae55c6654f9" title="menu ID (&lt; 0x10000L) or const pointer to string">lMenuID</a>;                       <span class="comment">// menu ID (&lt; 0x10000L) or const pointer to string</span></div>
<div class="line"></div>
<div class="line">  int (* <a class="code" href="struct____WB__FW__MENU__HANDLER____.html#ae58a4b34d068f430bd7cbbfebcf90e00" title="menu callback (gets pointer to the &#39;XClientMessageEvent&#39;).">callback</a>)(XClientMessageEvent *);     <span class="comment">// menu callback (gets pointer to the &#39;XClientMessageEvent&#39;)</span></div>
<div class="line">  int (* <a class="code" href="struct____WB__FW__MENU__HANDLER____.html#a48df5817752dd0acd7501acff9a229ba" title="menu &#39;UI&#39; callback to handle displaying menu states.">UIcallback</a>)(<a class="code" href="struct____WBMenu.html" title="structure for managing menu items ">WBMenu</a> *, <a class="code" href="struct____WBMenuItem____.html" title="structure for managing menu items ">WBMenuItem</a> *);  <span class="comment">// menu &#39;UI&#39; callback to handle displaying menu states</span></div>
<div class="line">                                               <span class="comment">// A return value of &#39;0&#39; displays normally, -1 disables</span></div>
<div class="line">                                               <span class="comment">// Other return values are reserved</span></div>
<div class="line">} <a class="code" href="group__frame__menu.html#ga3c4f2af99262415109ef93e4e3ad009b" title="structure for managing menu callbacks">WBFWMenuHandler</a>;</div>
</div><!-- fragment --><dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__frame__menu.html#ga229372f84c3decfd19c503e93bcd0624">FW_MENU_HANDLER_ENTRY</a>, <a class="el" href="group__frame__menu.html#ga8a61ebc2ef84095119158df442cfca52">FW_MENU_HANDLER_BEGIN</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Jul 24 2016 12:54:22 for X11 Work Bench Toolkit by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>

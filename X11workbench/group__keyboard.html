<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>X11workbench Toolkit: Keyboard Event Handling</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">X11workbench Toolkit
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__keyboard.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Keyboard Event Handling<div class="ingroups"><a class="el" href="group__core.html">Core API</a> &raquo; <a class="el" href="group__events.html">Event Handling</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gae21ff51fbcacd5ed9748a07d33a8ffef"><td class="memItemLeft" align="right" valign="top"><a id="gae21ff51fbcacd5ed9748a07d33a8ffef"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyboard.html#gae21ff51fbcacd5ed9748a07d33a8ffef">WB_KEYEVENT_KEYSYM</a>&#160;&#160;&#160;8 /* bit flags for 'piAltCtrlShift' below */</td></tr>
<tr class="memdesc:gae21ff51fbcacd5ed9748a07d33a8ffef"><td class="mdescLeft">&#160;</td><td class="mdescRight">'AltCtrlShift' bit flag for 'VK_' keys for <a class="el" href="group__keyboard.html#ga36d3a3da71f9de6e179166f627565af4" title="Generic keyboard event translation utility. ">WBKeyEventProcessKey()</a> <br /></td></tr>
<tr class="separator:gae21ff51fbcacd5ed9748a07d33a8ffef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafaae36149bab385b09d7be806f535e4a"><td class="memItemLeft" align="right" valign="top"><a id="gafaae36149bab385b09d7be806f535e4a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyboard.html#gafaae36149bab385b09d7be806f535e4a">WB_KEYEVENT_ALT</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:gafaae36149bab385b09d7be806f535e4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">'AltCtrlShift' bit flag for ALT modifier for <a class="el" href="group__keyboard.html#ga36d3a3da71f9de6e179166f627565af4" title="Generic keyboard event translation utility. ">WBKeyEventProcessKey()</a> <br /></td></tr>
<tr class="separator:gafaae36149bab385b09d7be806f535e4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace2835b02984a82075f034c477ff029a"><td class="memItemLeft" align="right" valign="top"><a id="gace2835b02984a82075f034c477ff029a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyboard.html#gace2835b02984a82075f034c477ff029a">WB_KEYEVENT_CTRL</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:gace2835b02984a82075f034c477ff029a"><td class="mdescLeft">&#160;</td><td class="mdescRight">'AltCtrlShift' bit flag for Control modifier for <a class="el" href="group__keyboard.html#ga36d3a3da71f9de6e179166f627565af4" title="Generic keyboard event translation utility. ">WBKeyEventProcessKey()</a> <br /></td></tr>
<tr class="separator:gace2835b02984a82075f034c477ff029a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga922354536dc1f94801c722b7e56190cc"><td class="memItemLeft" align="right" valign="top"><a id="ga922354536dc1f94801c722b7e56190cc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyboard.html#ga922354536dc1f94801c722b7e56190cc">WB_KEYEVENT_SHIFT</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga922354536dc1f94801c722b7e56190cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">'AltCtrlShift' bit flag for Shift modifier for <a class="el" href="group__keyboard.html#ga36d3a3da71f9de6e179166f627565af4" title="Generic keyboard event translation utility. ">WBKeyEventProcessKey()</a> <br /></td></tr>
<tr class="separator:ga922354536dc1f94801c722b7e56190cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad4854afa0d8a90e00760496fdabcd4fd"><td class="memItemLeft" align="right" valign="top"><a id="gad4854afa0d8a90e00760496fdabcd4fd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyboard.html#gad4854afa0d8a90e00760496fdabcd4fd">WB_KEYEVENT_ACSMASK</a>&#160;&#160;&#160;7</td></tr>
<tr class="memdesc:gad4854afa0d8a90e00760496fdabcd4fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">'AltCtrlShift' bit mask for Alt+Ctrl+Shift bits for <a class="el" href="group__keyboard.html#ga36d3a3da71f9de6e179166f627565af4" title="Generic keyboard event translation utility. ">WBKeyEventProcessKey()</a> <br /></td></tr>
<tr class="separator:gad4854afa0d8a90e00760496fdabcd4fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga36d3a3da71f9de6e179166f627565af4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyboard.html#ga36d3a3da71f9de6e179166f627565af4">WBKeyEventProcessKey</a> (const XKeyEvent *pEvent, char *pBuf, int *pcbLen, int *piAltCtrlShift)</td></tr>
<tr class="memdesc:ga36d3a3da71f9de6e179166f627565af4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic keyboard event translation utility.  <a href="#ga36d3a3da71f9de6e179166f627565af4">More...</a><br /></td></tr>
<tr class="separator:ga36d3a3da71f9de6e179166f627565af4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gab047060739005fbe53d09cc5e05101ce"><td class="memItemLeft" align="right" valign="top">Atom&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyboard.html#gab047060739005fbe53d09cc5e05101ce">aWB_CHAR</a></td></tr>
<tr class="memdesc:gab047060739005fbe53d09cc5e05101ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">keystroke/character notifications generated by API  <a href="#gab047060739005fbe53d09cc5e05101ce">More...</a><br /></td></tr>
<tr class="separator:gab047060739005fbe53d09cc5e05101ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The X11workbench Toolkit API provides for mid-level keyboard event handling via WB_CHAR ClientMessage notification events.<br />
See <a class="el" href="group__keyboard.html#gab047060739005fbe53d09cc5e05101ce">aWB_CHAR</a> for more info. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga36d3a3da71f9de6e179166f627565af4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36d3a3da71f9de6e179166f627565af4">&#9670;&nbsp;</a></span>WBKeyEventProcessKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WBKeyEventProcessKey </td>
          <td>(</td>
          <td class="paramtype">const XKeyEvent *&#160;</td>
          <td class="paramname"><em>pEvent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pcbLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>piAltCtrlShift</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic keyboard event translation utility. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pEvent</td><td>A const pointer to an XKeyEvent structure to process </td></tr>
    <tr><td class="paramname">pBuf</td><td>A buffer to receive translated keystroke information (may be NULL, see below) </td></tr>
    <tr><td class="paramname">pcbLen</td><td>A pointer to an integer (pre-assigned to the length of pBuf) that receives the actual data length (see below) (may be NULL) </td></tr>
    <tr><td class="paramname">piAltCtrlShift</td><td>A pointer to an integer that receives bit flags associated with CTRL ALT and SHIFT states (may be NULL) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The first byte of the character string when 'pBuf' is NOT NULL, or a translated UTF character of 1, 2, or 4 bytes when pBuf is NULL</dd></dl>
<p>generic utility to process a keystroke. 'pcbLen' must be pre-assigned to size of 'pBuf' if 'pBuf' is to be written to. Any parameter other than 'pEvent' may be NULL. when pBuf is NULL, pcbLen (if not NULL) receives the required length in bytes when pcbLen is NULL and pBuf is not, length is assumed to be 1 byte return value is the first byte of the character string when 'pBuf' is NOT NULL, or a translated UTF character of 1, 2 or 4 bytes (when pBuf is NULL).</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__keyboard.html#gab047060739005fbe53d09cc5e05101ce">aWB_CHAR</a>, <a class="el" href="group__pointer.html#ga5a71c68353174922427c05fd004e1f9a">aWB_POINTER</a></dd></dl>
<p>Header File: <a class="el" href="window__helper_8h.html" title="&#39;window helper&#39; main header file for the X11workbench Toolkit API ">window_helper.h</a> </p>

<p class="definition">Definition at line <a class="el" href="window__helper_8c_source.html#l06792">6792</a> of file <a class="el" href="window__helper_8c_source.html">window_helper.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="gab047060739005fbe53d09cc5e05101ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab047060739005fbe53d09cc5e05101ce">&#9670;&nbsp;</a></span>aWB_CHAR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Atom aWB_CHAR</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>keystroke/character notifications generated by API </p>
<p>Mid-level keystroke handling generates WB_CHAR notifications via ClientMessage passed to the appropriate window in addition to normal key up/down events.</p>
<p>WB_CHAR notification message format (relative to XEvent.xclient)<br />
<br />
type == ClientMessage<br />
message_type == aWB_CHAR<br />
format == 32 (always)<br />
data.l[0] is return from WBKeyEventProcessKey<br />
data.l[1] is *piAltCtrlShift from WBKeyEventProcessKey<br />
data.l[2] is # of characters decoded into data.l[3..4]<br />
data.l[3..4] (as char[]) is decode buffer (at least 8 chars long, possibly 16 for 64-bit)<br />
<br />
see also: <a class="el" href="group__keyboard.html#ga36d3a3da71f9de6e179166f627565af4" title="Generic keyboard event translation utility. ">WBKeyEventProcessKey()</a>character notifications (generated by API; avoids key up/down handling) </p>

<p class="definition">Definition at line <a class="el" href="window__helper_8c_source.html#l00404">404</a> of file <a class="el" href="window__helper_8c_source.html">window_helper.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Jun 16 2019 21:25:36 for X11workbench Toolkit by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
